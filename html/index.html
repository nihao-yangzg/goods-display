<html>
    <head>
        <meta charset="utf-8">
        <script src="../js/jquery-3.3.1.min.js"></script>
        <script src="../js/menu.js"></script>
        <script src="../js/select2.min.js"></script>
        <script src="../js/item.js"></script>
        <script src="../js/pager.js"></script>
        <link rel="stylesheet" href="../css/style.css" type="text/css">
        <link rel="stylesheet" href="../css/item.css" type="text/css">
        <link rel="stylesheet" href="../css/select2.css" type="text/css">
        <link rel="stylesheet" href="../css/page.css">
        <link rel="stylesheet" href="../css/index.css">
        <style>
            .page-foot {
                padding-left: 20%;
            }
            .main-foot{
                height: 60px;
                line-height: 60px;
                text-align: left;
                background-color: white;
                position:relative;
                /* top: 100%; */
                bottom:0;
                left: 0;
                width:100%;
            }
        </style>
    </head>
    <body>
        <div class="subnav container">
            SLOGEN / PICTURE
        </div>

        <div class="fix-container">
            <div class="content">
                <div class="content-search">
                    <div class="sub-search">
                        <h3>BRAND</h3>
                        <div>
                            <select class="brand-select" name="state" style="height:50%;">
                                <option value="AL">Alabama</option>
                                <option value="WY">Wyoming</option>
                                <option value="WY">Washington</option>
                                <option value="WY">Tokyo</option>
                                <option value="WY">Sydney</option>
                            </select>
                        </div>
                    </div>
                    <div class="sub-search">
                        <h3>PRODUCT</h3>
                        <div>
                            <select class="product-select" name="state">
                                <option value="AL">Alabama</option>
                                <option value="WY">Wyoming</option>
                                <option value="WY">Washington</option>
                                <option value="WY">Tokyo</option>
                                <option value="WY">Sydney</option>
                            </select>
                        </div>
                    </div>
                    
                </div>
                <div class="content-display">
                    <div class="goods">
                        <ul id="goods-list">
                        </ul>
                    </div>
                </div>
                <div class="page-foot">

                </div>

            </div>
            <hr/>
            <div class="main-foot">
                    <span>&copy Display System </span>
                </div>
        </div>
        
       
    </body>
    <script>
        $(function(){
            
            $('.brand-select').val("").select2({
                placeholder: "Select a brand",
                allowClear: true
            });
            $('.product-select').val("").select2({
                placeholder: "Select a type",
                allowClear: true
            })
            var goodslist = [
                {'imgUrl': '../images/a.jpg', 'title': 'one more牛仔高腰显瘦宽松学生长裤', 'productId': 'fniewata', 'price': '$25.4', 'goodsUrl': 'http://www.baidu.com'},
                {'imgUrl': '../images/b.jpg', 'title': 'one more牛仔高腰显瘦宽松学生长裤', 'productId': 'fniewatb', 'price': '$25.4', 'goodsUrl': 'http://www.baidu.com'},
                {'imgUrl': '../images/c.jpg', 'title': 'one more牛仔高腰显瘦宽松学生长裤', 'productId': 'fniewatc', 'price': '$25.4', 'goodsUrl': 'http://www.baidu.com'},
                {'imgUrl': '../images/d.jpg', 'title': 'one more牛仔高腰显瘦宽松学生长裤', 'productId': 'fniewatd', 'price': '$25.4', 'goodsUrl': 'http://www.baidu.com'},
                {'imgUrl': '../images/e.jpg', 'title': 'one more牛仔高腰显瘦宽松学生长裤', 'productId': 'fniewate', 'price': '$25.4', 'goodsUrl': 'http://www.baidu.com'},
                {'imgUrl': '../images/f.jpg', 'title': 'one more牛仔高腰显瘦宽松学生长裤', 'productId': 'fniewatf', 'price': '$25.4', 'goodsUrl': 'http://www.baidu.com'},
                {'imgUrl': '../images/g.jpg', 'title': 'one more牛仔高腰显瘦宽松学生长裤', 'productId': 'fniewatg', 'price': '$25.4', 'goodsUrl': 'http://www.baidu.com'},
                {'imgUrl': '../images/h.jpg', 'title': 'one more牛仔高腰显瘦宽松学生长裤', 'productId': 'fniewath', 'price': '$25.4', 'goodsUrl': 'http://www.baidu.com'},
            ];
            function createGoodsList0(goods){
                var dom = document.createElement("li");
                var div = document.createElement('div');
                var img = document.createElement('img');
                img.setAttribute('src', goods['imgUrl']);
                img.setAttribute('productId', goods['productId']);
                div.appendChild(img);
                var title = document.createElement('h3');
                title.textContent = goods['title'];
                dom.append(div);
                dom.appendChild(title);
                return dom;
            }
            function createGoodsList1(goods){
                var dom = document.createElement("li");
                var container = document.createElement('div');
                var subContainer = document.createElement('div');
                var imgDiv = document.createElement('div');
                var img = document.createElement('img');
                var price = document.createElement('em');

                img.setAttribute('src', goods['imgUrl']);
                img.setAttribute('productId', goods['productId']);
                imgDiv.appendChild(img);
                imgDiv.setAttribute('class', 'img');

                var title = document.createElement('p');
                var link = document.createElement('a');
                link.setAttribute('href', goods['goodsUrl']);
                link.textContent = goods['title'];
                title.appendChild(link);

                price.textContent = goods['price'];
                price.setAttribute('class', 'price');
                // title.textContent = goods['title'];

                subContainer.setAttribute('class', 'goods-subcontainer');
                subContainer.append(imgDiv);
                subContainer.append(price);
                subContainer.appendChild(title);

                container.setAttribute('class','goods-container');                
                container.appendChild(subContainer);

                dom.appendChild(container);

                return dom;
            }
            goodslist.forEach(function(goods, index) {
                $goodsList = $('#goods-list')
                // var dom = createGoodsList0(goods);
                var dom = createGoodsList1(goods);

                if (index % 3 === 0) {
                    dom.setAttribute('class', 'first');
                } else if (index % 3 === 2) {
                    dom.setAttribute('class', 'last');
                }
                $goodsList.append(dom);
            });
            // $('.goods ul').on('mouseover', function(event) {
            //     console.log(event.target.nodeName);
            //     if (event.target.nodeName === 'IMG') {
            //         var $img = $(this);
            //         var height = $img.height(),
            //             width = $img.width();
            //         var hover = document.createElement('div');
            //         hover.style.height = height;
            //         hover.style.width = width;
            //         hover.setAttribute('id', 'img-hover');
            //         hover.style.position = 'relative';
            //         hover.style.top = '0';
            //         hover.style.left = '0';
            //         hover.style.backgroundColor = '#ccc';
            //         hover.textContent = 'click';
            //         console.log(hover);
            //         $img.parent('div').append(hover);
            //     }
            // }).on('mouseout', function() {
            //     $('#img-hover').remove();
            // })
            $('.goods ul').on('click', function(event) {
                if (event.target.nodeName === 'IMG') {
                    var id = $(event.target).attr('productId');
                    console.log(id);
                    location.href='./detail.html?id=' + id;
                }
            });
            $('div.page-foot').append($(initPager()));

        })
    </script>
</html>